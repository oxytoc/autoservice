<div class="orders">
  <h1>Заказы</h1>

  <div class="order-container" *ngIf="personalOrders$ | async">
    <div class="table-container"> 
      <table mat-table [dataSource]="dataSource">
        <ng-container matColumnDef="partImageUrl">
          <th mat-header-cell *matHeaderCellDef> Запчасть </th>
          <td mat-cell *matCellDef="let element" class="table-img"> <img [src]="element.partImageUrl"> </td>
        </ng-container>
      
        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef> Описание </th>
          <td mat-cell *matCellDef="let element"> {{element.description}} </td>
        </ng-container>
      
        <ng-container matColumnDef="price">
          <th mat-header-cell *matHeaderCellDef> Цена </th>
          <td mat-cell *matCellDef="let element"> {{element.price}} </td>
        </ng-container>

        <ng-container matColumnDef="orderStatus">
          <th mat-header-cell *matHeaderCellDef> Статус заказа </th>
          <td mat-cell *matCellDef="let element"> {{element.orderStatus === 'open' ? 'Открыт' : 'Закрыт'}} </td>
        </ng-container>

        <ng-container matColumnDef="orderDate">
          <th mat-header-cell *matHeaderCellDef> Дата заказа </th>
          <td mat-cell *matCellDef="let element"> {{element.orderDate}} </td>
        </ng-container>
      
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row
            *matRowDef="let row; columns: displayedColumns;"
            class="user-action"
            (click)="redirectToDetailPart(row)">
        </tr>
      </table>
    </div>
  </div>

  <div class="part-container" *ngIf="(parts$ | async) as part">
    <h2>Возможно, вам понравится</h2>
    <app-parts [parts]="parts$ | async"></app-parts>
  </div>
</div>

